# realm с настройками авторизации сервисов (импортируется через KC_IMPORT в docker-compose.yml)
keycloak.realm: ibank

logging:
  level:
    com.example.ibank: DEBUG

management:
  # открытие liveness/readiness дополнительно к health (используется в k8s)
  endpoint:
    health:
      probes:
        enabled: true
      group:
        liveness:
          include: livenessState
        readiness:
          include: readinessState
  observations:
    annotations:
      enabled: true # enable @Observed, @Timed, @Counted, @MeterTag and @NewSpan supported by Micrometer
  tracing:
    sampling:
      probability: 1 # Сэмплируем все запросы
  zipkin:
    tracing:
      endpoint: http://${zipkin_server}/api/v2/spans # Эндпоинт Zipkin для приёма спанов

# доступность через http
management.endpoints.web.exposure.include: health,liveness,readiness
